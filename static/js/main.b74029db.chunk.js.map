{"version":3,"sources":["components/api.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/App.jsx","index.js"],"names":["fetchImages","imageTags","page","a","axios","get","response","data","hits","Searchbar","onSearch","className","onSubmit","e","preventDefault","target","elements","value","type","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","webformatURL","largeImageURL","tags","handleSelectedImage","console","log","src","alt","onClick","ImageGallery","gallery","map","id","Button","handleLoadMore","App","state","requestState","handleFormSubmit","setState","_","prevState","this","window","scrollTo","top","document","documentElement","scrollHeight","behavior","showGallery","length","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"6SAMaA,EAAW,uCAAG,WAAOC,EAAWC,GAAlB,eAAAC,EAAA,sEACFC,IAAMC,IAAN,4EACgDJ,EADhD,yEAC0HC,EAD1H,iBADE,cACnBI,EADmB,yBAIlBA,EAASC,KAAKC,MAJI,2CAAH,wD,OCNXC,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAM1B,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaC,SAPZ,SAAAC,GACnBA,EAAEC,iBACFJ,EAASG,EAAEE,OAAOC,SAASf,UAAUgB,QAKnC,UACE,wBAAQC,KAAK,SAASP,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVQ,KAAK,YACLD,KAAK,OACLE,aAAa,MACbC,WAAS,EACTC,YAAY,mCCnBTC,EAAmB,SAAC,GAAgE,IAA9DC,EAA6D,EAA7DA,aAAcC,EAA+C,EAA/CA,cAAeC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,oBAGpE,OAFAC,QAAQC,IAAIL,GAGV,oBAAIb,UAAU,mBAAd,SACE,qBACEmB,IAAKN,EACLO,IAAKL,EACLf,UAAU,yBACVqB,QAAS,kBAAML,EAAoBF,EAAeC,SCP7CO,EAAe,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAE7B,OADAN,QAAQC,IAAIK,GAEV,6BACGA,EAAQC,KAAI,gBAAGC,EAAH,EAAGA,GAAIX,EAAP,EAAOA,cAAeD,EAAtB,EAAsBA,aAAtB,OACX,cAAC,EAAD,CAAkBY,GAAIA,EAAIX,cAAeA,EAAeD,aAAcA,UCPjEa,EAAS,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eACvB,OACE,wBAAQpB,KAAK,SAASc,QAASM,EAA/B,wBCKSC,EAAb,4MACEC,MAAQ,CACNvC,UAAW,GACXC,KAAM,EACNgC,QAAS,GACTO,aAAc,QALlB,EAUEC,iBAAmB,SAAAzC,GACjB,EAAK0C,SAAS,CAAEzC,KAAM,EAAGgC,QAAS,GAAIjC,eAX1C,EAcEqC,eAAiB,WACf,EAAKK,SAAS,CAAEzC,KAAM,EAAKsC,MAAMtC,KAAO,KAf5C,+FAmBE,WAAyB0C,EAAGC,GAA5B,qBAAA1C,EAAA,2DAC8B2C,KAAKN,MAAzBvC,EADV,EACUA,UAAWC,EADrB,EACqBA,KACf2C,EAAU5C,YAAcA,GAAa4C,EAAU3C,OAASA,EAF9D,0CAI4BF,EAAYC,EAAWC,GAJnD,OAIYgC,EAJZ,OAKMY,KAAKH,SAAS,CAAET,QAAQ,GAAD,mBAAMW,EAAUX,SAAhB,YAA4BA,MALzD,gDAOMN,QAAQC,IAAI,SAPlB,QAUEkB,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,WAZd,yDAnBF,6EAmCE,WACE,IAAQnB,EAAYY,KAAKN,MAAjBN,QACFoB,EAAcpB,EAAQqB,OAAS,EACrC,OACE,gCACE,cAAC,EAAD,CAAW7C,SAAUoC,KAAKJ,mBAC1B,cAAC,EAAD,CAAcR,QAASA,IACtBoB,GAAe,cAAC,EAAD,CAAQhB,eAAgBQ,KAAKR,wBA1CrD,GAAyBkB,aCDzBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFT,SAASU,eAAe,W","file":"static/js/main.b74029db.chunk.js","sourcesContent":["import axios from 'axios';\n\n// const API_KEY = '22578935-bf31ef834e5011bcd0b44501d';\n\n// axios.default.baseURL = 'https://pixabay.com/api/';\n\nexport const fetchImages = async (imageTags, page) => {\n  const response = await axios.get(\n    `https://pixabay.com/api/?key=22578935-bf31ef834e5011bcd0b44501d&q=${imageTags}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=12`,\n  );\n  return response.data.hits;\n};\n","export const Searchbar = ({ onSearch }) => {\n  const handleSearch = e => {\n    e.preventDefault();\n    onSearch(e.target.elements.imageTags.value);\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSearch}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          name=\"imageTags\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\n","export const ImageGalleryItem = ({ webformatURL, largeImageURL, tags, handleSelectedImage }) => {\n  console.log(webformatURL);\n  // const { webformatURL, largeImageURL, tags, handleSelectedImage } = image;\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={() => handleSelectedImage(largeImageURL, tags)}\n      />\n    </li>\n  );\n};\n","import { ImageGalleryItem } from 'components/ImageGalleryItem/ImageGalleryItem';\n\nexport const ImageGallery = ({ gallery }) => {\n  console.log(gallery);\n  return (\n    <ul>\n      {gallery.map(({ id, largeImageURL, webformatURL }) => (\n        <ImageGalleryItem id={id} largeImageURL={largeImageURL} webformatURL={webformatURL} />\n      ))}\n    </ul>\n  );\n};\n","export const Button = ({ handleLoadMore }) => {\n  return (\n    <button type=\"button\" onClick={handleLoadMore}>\n      Load more\n    </button>\n  );\n};\n","import { Component } from 'react';\nimport { fetchImages } from './api';\nimport { Searchbar } from 'components/Searchbar/Searchbar';\nimport { ImageGallery } from './ImageGallery/ImageGallery';\nimport { Button } from './Button/Button';\n// import { ImageGalleryItem } from './ImageGalleryItem/ImageGalleryItem';\n\nexport class App extends Component {\n  state = {\n    imageTags: '',\n    page: 1,\n    gallery: [],\n    requestState: 'idle',\n  };\n\n  //Делаем запись в state\n\n  handleFormSubmit = imageTags => {\n    this.setState({ page: 1, gallery: [], imageTags });\n  };\n\n  handleLoadMore = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  // Реакция на изменение state, делаем запросы\n  async componentDidUpdate(_, prevState) {\n    const { imageTags, page } = this.state;\n    if (prevState.imageTags !== imageTags || prevState.page !== page)\n      try {\n        const gallery = await fetchImages(imageTags, page);\n        this.setState({ gallery: [...prevState.gallery, ...gallery] });\n      } catch (error) {\n        console.log('error');\n      }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  render() {\n    const { gallery } = this.state;\n    const showGallery = gallery.length > 0;\n    return (\n      <div>\n        <Searchbar onSearch={this.handleFormSubmit} />\n        <ImageGallery gallery={gallery} />\n        {showGallery && <Button handleLoadMore={this.handleLoadMore} />}\n        {/* < ImageGalleryItem /> */}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './components/App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}